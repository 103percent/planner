- if @invitations.any?
  .row
    .col
      .card.bg-white.border-success
        .card-body
          %p.mb-0
            <strong>#{@invitations.count}</strong> members have RSVP'd to this event.

  %div.mt-4
    = simple_form_for :meeting_invitations, url: admin_meeting_invitations_path do |f|
      .row
        .col-6
          = f.select :member,
                      Member.all.map { |u| ["#{u.full_name}", u.id] },
                      { include_blank: true }, { class: 'chosen-select', required: true,
                      data: { placeholder: t('messages.invitations.select_a_member_to_rsvp') } }
          = f.input :meeting_id, as: :hidden, input_html: { value: @meeting.slug }

        .col-3
          %span{'data-bs-toggle': 'tooltip', 'data-bs-placement': 'bottom', title: t('admin.workshop.manage_rsvps.text')}
          = f.button :button, 'Add', class: 'btn btn-primary'

  .row
    .col.attendances
      %h4 Participants

  .row
    - @invitations.each do |invitation|
      .col-5.attendee
        .row.mb-4
          .col-1
            - if (@meeting.date_and_time - 30.minutes).past?
              - if invitation.attended?
                = link_to '', admin_meeting_invitation_path(invitation, attendance_status: true, attended: false), class: 'far fa-check-square', method: :put
              - else
                = link_to '', admin_meeting_invitation_path(invitation, attendance_status: true, attended: true),
                class: 'fa fa-square-o verify-attendance',
                method: :put

            - else
              = link_to '', admin_meeting_invitation_path(invitation, attendance_status: false, attended: false), class: 'far fa-minus-square', method: :put

          .col-11
            = link_to admin_member_path(invitation.member) do
              = invitation.member.full_name
